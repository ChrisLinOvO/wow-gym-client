{"ast":null,"code":"import { takeLatest, call, put, all } from \"redux-saga/effects\";\nimport axios from \"axios\";\nimport { shopActionTypes } from \"./shop-action-type\";\nimport { shopFetchSuccess, shopFetchFailure, shopItemSuccess, shopPageFailure, shopPageSuccess } from \"./shop-action\"; // Shop Fetch-----------------\n\nexport function* ShopFetchAsyncSaga({\n  payload,\n  typeUrl\n}) {\n  try {\n    let data;\n\n    if (!typeUrl && payload) {\n      const {\n        data: {\n          collection\n        }\n      } = yield axios.get(`${process.env.REACT_APP_BACKEND_URL}/api/shop/${payload}`);\n      data = collection;\n    } else {\n      const {\n        data: {\n          collection\n        }\n      } = yield axios.get(`${process.env.REACT_APP_BACKEND_URL}/api/shop/shopitem/${typeUrl}`);\n      data = collection;\n    }\n\n    yield put(shopFetchSuccess(data));\n  } catch (err) {\n    yield put(shopFetchFailure(err));\n  }\n}\nexport function* ShopFetchStartSaga() {\n  yield takeLatest(shopActionTypes.SHOP_FETCH_START, ShopFetchAsyncSaga);\n} // -------------------\n// shop item fetch---------------\n\nexport function* ShopItemAsyncSaga({\n  payload\n}) {\n  try {\n    const {\n      data: {\n        shopItem\n      }\n    } = yield axios.get(`${process.env.REACT_APP_BACKEND_URL}/api/shop/detail/${payload}`);\n    yield put(shopItemSuccess(shopItem[0]));\n  } catch (err) {\n    yield put(shopFetchFailure(err));\n  }\n}\nexport function* ShopItemFetchStartSaga() {\n  yield takeLatest(shopActionTypes.SHOP_ITEM_START, ShopItemAsyncSaga);\n} // -------------------\n\nexport function* ShopPageAsyncSaga() {\n  try {\n    const {\n      data: {\n        collection\n      }\n    } = yield axios.get(`${process.env.REACT_APP_BACKEND_URL}/api/shop`);\n    yield put(shopPageSuccess(collection));\n  } catch (err) {\n    yield put(shopPageFailure(err));\n  }\n}\nexport function* ShopPageFetchStartSaga() {\n  yield takeLatest(shopActionTypes.SHOP_PAGE_START, ShopPageAsyncSaga);\n}\nexport function* shopSagas() {\n  yield all([call(ShopFetchStartSaga), call(ShopItemFetchStartSaga), call(ShopPageFetchStartSaga)]);\n}","map":{"version":3,"sources":["/Users/Chris/Project-traning/project-wow-fit-fronted/src/redux/shop/shop-saga.js"],"names":["takeLatest","call","put","all","axios","shopActionTypes","shopFetchSuccess","shopFetchFailure","shopItemSuccess","shopPageFailure","shopPageSuccess","ShopFetchAsyncSaga","payload","typeUrl","data","collection","get","process","env","REACT_APP_BACKEND_URL","err","ShopFetchStartSaga","SHOP_FETCH_START","ShopItemAsyncSaga","shopItem","ShopItemFetchStartSaga","SHOP_ITEM_START","ShopPageAsyncSaga","ShopPageFetchStartSaga","SHOP_PAGE_START","shopSagas"],"mappings":"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","sourcesContent":["import { takeLatest, call, put, all } from \"redux-saga/effects\";\nimport axios from \"axios\";\n\nimport { shopActionTypes } from \"./shop-action-type\";\nimport {\n  shopFetchSuccess,\n  shopFetchFailure,\n  shopItemSuccess,\n  shopPageFailure,\n  shopPageSuccess,\n} from \"./shop-action\";\n\n// Shop Fetch-----------------\nexport function* ShopFetchAsyncSaga({ payload, typeUrl }) {\n  try {\n    let data;\n    if (!typeUrl && payload) {\n      const {\n        data: { collection },\n      } = yield axios.get(\n        `${process.env.REACT_APP_BACKEND_URL}/api/shop/${payload}`\n      );\n      data = collection;\n    } else {\n      const {\n        data: { collection },\n      } = yield axios.get(\n        `${process.env.REACT_APP_BACKEND_URL}/api/shop/shopitem/${typeUrl}`\n      );\n      data = collection;\n    }\n    yield put(shopFetchSuccess(data));\n  } catch (err) {\n    yield put(shopFetchFailure(err));\n  }\n}\n\nexport function* ShopFetchStartSaga() {\n  yield takeLatest(shopActionTypes.SHOP_FETCH_START, ShopFetchAsyncSaga);\n}\n// -------------------\n\n// shop item fetch---------------\nexport function* ShopItemAsyncSaga({ payload }) {\n  try {\n    const {\n      data: { shopItem },\n    } = yield axios.get(\n      `${process.env.REACT_APP_BACKEND_URL}/api/shop/detail/${payload}`\n    );\n    yield put(shopItemSuccess(shopItem[0]));\n  } catch (err) {\n    yield put(shopFetchFailure(err));\n  }\n}\n\nexport function* ShopItemFetchStartSaga() {\n  yield takeLatest(shopActionTypes.SHOP_ITEM_START, ShopItemAsyncSaga);\n}\n// -------------------\nexport function* ShopPageAsyncSaga() {\n  try {\n    const {\n      data: { collection },\n    } = yield axios.get(`${process.env.REACT_APP_BACKEND_URL}/api/shop`);\n    yield put(shopPageSuccess(collection));\n  } catch (err) {\n    yield put(shopPageFailure(err));\n  }\n}\n\nexport function* ShopPageFetchStartSaga() {\n  yield takeLatest(shopActionTypes.SHOP_PAGE_START, ShopPageAsyncSaga);\n}\n\nexport function* shopSagas() {\n  yield all([\n    call(ShopFetchStartSaga),\n    call(ShopItemFetchStartSaga),\n    call(ShopPageFetchStartSaga),\n  ]);\n}\n"]},"metadata":{},"sourceType":"module"}