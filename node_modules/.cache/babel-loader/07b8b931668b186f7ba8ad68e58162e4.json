{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Project-traning/project-wow-fit-fronted/src/pages/articles-edit-page/ArticlesEdit.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport \"./ArticlesEdit.scss\";\nimport axios from \"axios\";\nimport Swal from 'sweetalert2';\nimport { createStructuredSelector } from \"reselect\";\nimport { currentUserSelect } from \"../../redux/user/user-selector\";\n\nfunction ArticlesEdit({\n  currentUserData\n}) {\n  // const { currentUserData } = props\n  //該使用者id\n  // const currentUserId = currentUserData ? currentUserData.memberId : ''\n  // console.log(currentUserData)\n  const {\n    id\n  } = { ...currentUserData\n  };\n  const [Data, setData] = useState(\"\");\n  const [delData, setDelData] = useState(\"\");\n  const [mId, setMId] = useState(\"\"); // console.log(delData);\n  // const userId = useParams().memberId;\n  // console.log(userId);\n\n  useEffect(() => {\n    const FetchData = async () => {\n      const result = await axios(`http://localhost:5000/api/articles/member/${mId}`);\n      setData(result.data); // console.log(result)\n    };\n\n    FetchData();\n  }, [delData, mId]);\n  useEffect(() => {\n    setMId(id);\n  }, [id]);\n\n  async function articleDataDelete(id) {\n    // console.log(userId);\n    // 開啟載入指示\n    // setDataLoading(true)\n    // 注意header資料格式要設定，伺服器才知道是json格式\n    const request = new Request(`http://localhost:5000/api/articles/articlesEdit/${id}`, {\n      method: \"DELETE\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"appliaction/json\"\n      })\n    }); // window.location.reload()\n\n    const response = await fetch(request);\n    const data = await response.json(); // console.log(data);\n\n    setDelData(data);\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"articleContainer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit-list-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"edit-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, \"\\u6587\\u7AE0\\u7DE8\\u865F\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, \"\\u6587\\u7AE0\\u6A19\\u984C\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, \"\\u6587\\u7AE0\\u5167\\u5BB9\"), /*#__PURE__*/React.createElement(\"li\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, \"\\u529F\\u80FD\"))), Data ? Data.map((list, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"articleItem\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"articleList\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    className: \"articleListId\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, list.articleId), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"articleListTitle\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, list.articleTitle), /*#__PURE__*/React.createElement(\"li\", {\n    className: \"articleListContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, list.articleContent), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"features\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/ArticlesUpdate/${list.articleId}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, \"\\u7DE8\\u8F2F\")), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => Swal.fire({\n      title: '刪除文章',\n      text: \"刪除後無法還原文章\",\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: '確定',\n      cancelButtonText: '取消'\n    }).then(result => {\n      if (result.value) {\n        Swal.fire('完成!', '文章已刪除', 'success').then(() => {\n          articleDataDelete(list.articleId);\n        });\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 19\n    }\n  }, \"\\u522A\\u9664\"))))) : \"\"));\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUserData: currentUserSelect\n});\nexport default withRouter(connect(mapStateToProps)(ArticlesEdit));","map":{"version":3,"sources":["/Users/Chris/Project-traning/project-wow-fit-fronted/src/pages/articles-edit-page/ArticlesEdit.jsx"],"names":["React","useState","useEffect","connect","withRouter","Link","axios","Swal","createStructuredSelector","currentUserSelect","ArticlesEdit","currentUserData","id","Data","setData","delData","setDelData","mId","setMId","FetchData","result","data","articleDataDelete","request","Request","method","headers","Headers","Accept","response","fetch","json","map","list","index","articleId","articleTitle","articleContent","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","value","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter, Link } from \"react-router-dom\";\nimport \"./ArticlesEdit.scss\";\nimport axios from \"axios\";\nimport Swal from 'sweetalert2'\n\nimport { createStructuredSelector } from \"reselect\";\nimport { currentUserSelect } from \"../../redux/user/user-selector\"\n\nfunction ArticlesEdit({ currentUserData }) {\n\n  // const { currentUserData } = props\n  //該使用者id\n  // const currentUserId = currentUserData ? currentUserData.memberId : ''\n  // console.log(currentUserData)\n  const { id } = { ...currentUserData }\n  const [Data, setData] = useState(\"\");\n  const [delData, setDelData] = useState(\"\")\n  const [mId, setMId] = useState(\"\")\n  // console.log(delData);\n  // const userId = useParams().memberId;\n  // console.log(userId);\n\n  useEffect(() => {\n    const FetchData = async () => {\n      const result = await axios(\n        `http://localhost:5000/api/articles/member/${mId}`\n      );\n      setData(result.data);\n      // console.log(result)\n    };\n    FetchData();\n  }, [delData, mId]);\n\n  useEffect(() => {\n\n    setMId(id)\n  }, [id])\n\n\n  async function articleDataDelete(id) {\n    // console.log(userId);\n    // 開啟載入指示\n    // setDataLoading(true)\n\n    // 注意header資料格式要設定，伺服器才知道是json格式\n    const request = new Request(\n      `http://localhost:5000/api/articles/articlesEdit/${id}`,\n      {\n        method: \"DELETE\",\n        headers: new Headers({\n          Accept: \"application/json\",\n          \"Content-Type\": \"appliaction/json\",\n        }),\n\n      },\n    );\n\n    // window.location.reload()\n    const response = await fetch(request);\n    const data = await response.json();\n    // console.log(data);\n    setDelData(data);\n\n  }\n\n\n  return (\n    <>\n      <div className=\"articleContainer\">\n        <div className=\"edit-list-container\">\n          <ul className=\"edit-list\">\n            <li>文章編號</li>\n            <li>文章標題</li>\n            <li>文章內容</li>\n            <li>功能</li>\n          </ul>\n        </div>\n        {Data\n          ? Data.map((list, index) => (\n            <div className=\"articleItem\" key={index}>\n              <ul className=\"articleList\">\n                <li className=\"articleListId\">{list.articleId}</li>\n                <li className=\"articleListTitle\">{list.articleTitle}</li>\n                <li className=\"articleListContent\">{list.articleContent}</li>\n                <div className=\"features\">\n                  <Link to={`/ArticlesUpdate/${list.articleId}`}>\n                    <button>編輯</button>\n                  </Link>\n                  <button onClick={() => Swal.fire({\n                    title: '刪除文章',\n                    text: \"刪除後無法還原文章\",\n                    icon: 'warning',\n                    showCancelButton: true,\n                    confirmButtonColor: '#3085d6',\n                    cancelButtonColor: '#d33',\n                    confirmButtonText: '確定',\n                    cancelButtonText: '取消'\n                  }).then((result) => {\n                    if (result.value) {\n                      Swal.fire(\n                        '完成!',\n                        '文章已刪除',\n                        'success'\n                      ).then(() => { (articleDataDelete(list.articleId)) })\n                    }\n                  })\n                  }>刪除</button></div>\n              </ul>\n            </div>\n          ))\n          : \"\"}\n      </div>\n    </>\n  );\n}\nconst mapStateToProps = createStructuredSelector({\n  currentUserData: currentUserSelect,\n});\nexport default withRouter(connect(mapStateToProps)(ArticlesEdit));"]},"metadata":{},"sourceType":"module"}