{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Project-traning/project-wow-fit-fronted/src/component/course-booking-button/CourseBookingButton.jsx\";\nimport React from \"react\";\nimport './CourseBookingButton.scss'; //---------------\n\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { createStructuredSelector } from \"reselect\";\nimport { currentUserSelect } from \"../../redux/user/user-selector\"; //---------------\n\nfunction CourseBookingButton(props) {\n  //---------------\n  const {\n    currentUser\n  } = props; //該使用者的id\n\n  const currentUserId = currentUser ? currentUser.id : ''; //---------------\n  //確認此課程是否已被該會員預約\n\n  const checkBooking = props.thisUserBookingId.indexOf(props.value); //確認該課程預約狀況\n\n  const checkBookingState = props.bookingData && props.bookingData.filter(m => m.courseId === props.value && m.memberId === currentUserId).map(bookedCourse => bookedCourse.bookingState); //可預約button\n\n  const displayBookingBtn = /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    value: props.value,\n    onClick: () => props.myConfirmAddBooking(props.addBooking),\n    className: \"accessBooking courseBtn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }\n  }, \"\\u9810\\u7D04\")); //若曾預約，視預約狀況顯示button\n\n  function displayBookedBtn() {\n    if (+checkBookingState === 0) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n        value: props.value,\n        className: \"canceledBooked courseBtn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 21\n        }\n      }, \"\\u5DF2\\u53D6\\u6D88\"));\n    } else {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n        value: props.value,\n        className: \"alreadyBooked courseBtn\",\n        onClick: () => props.myConfirmCancelBooking(props.userCancelBooking),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 21\n        }\n      }, \" \\u53D6\\u6D88\\u9810\\u7D04\"));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, +checkBooking === -1 ? displayBookingBtn : displayBookedBtn());\n} //---------------\n\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: currentUserSelect\n});\nexport default withRouter(connect(mapStateToProps)(CourseBookingButton)); //---------------","map":{"version":3,"sources":["/Users/Chris/Project-traning/project-wow-fit-fronted/src/component/course-booking-button/CourseBookingButton.jsx"],"names":["React","connect","withRouter","createStructuredSelector","currentUserSelect","CourseBookingButton","props","currentUser","currentUserId","id","checkBooking","thisUserBookingId","indexOf","value","checkBookingState","bookingData","filter","m","courseId","memberId","map","bookedCourse","bookingState","displayBookingBtn","myConfirmAddBooking","addBooking","displayBookedBtn","myConfirmCancelBooking","userCancelBooking","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,4BAAP,C,CACA;;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,wBAAT,QAAyC,UAAzC;AACA,SAASC,iBAAT,QAAkC,gCAAlC,C,CACA;;AAEA,SAASC,mBAAT,CAA6BC,KAA7B,EAAoC;AAChC;AACA,QAAM;AAAEC,IAAAA;AAAF,MAAkBD,KAAxB,CAFgC,CAGhC;;AACA,QAAME,aAAa,GAAGD,WAAW,GAAGA,WAAW,CAACE,EAAf,GAAoB,EAArD,CAJgC,CAKhC;AAEA;;AACA,QAAMC,YAAY,GAAGJ,KAAK,CAACK,iBAAN,CAAwBC,OAAxB,CAAgCN,KAAK,CAACO,KAAtC,CAArB,CARgC,CAUhC;;AACA,QAAMC,iBAAiB,GAAGR,KAAK,CAACS,WAAN,IAAqBT,KAAK,CAACS,WAAN,CAAkBC,MAAlB,CAAyBC,CAAC,IAAIA,CAAC,CAACC,QAAF,KAAeZ,KAAK,CAACO,KAArB,IAA8BI,CAAC,CAACE,QAAF,KAAeX,aAA3E,EAA0FY,GAA1F,CAA8FC,YAAY,IAAKA,YAAY,CAACC,YAA5H,CAA/C,CAXgC,CAahC;;AACA,QAAMC,iBAAiB,gBACnB,uDACI;AAAQ,IAAA,KAAK,EAAEjB,KAAK,CAACO,KAArB;AAA4B,IAAA,OAAO,EAAE,MAAMP,KAAK,CAACkB,mBAAN,CAA0BlB,KAAK,CAACmB,UAAhC,CAA3C;AAAwF,IAAA,SAAS,EAAC,yBAAlG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,CADJ,CAdgC,CAoBhC;;AACA,WAASC,gBAAT,GAA4B;AACxB,QAAI,CAACZ,iBAAD,KAAuB,CAA3B,EAA8B;AAC1B,0BACI,uDACI;AAAQ,QAAA,KAAK,EAAER,KAAK,CAACO,KAArB;AAA4B,QAAA,SAAS,EAAC,0BAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BADJ,CADJ;AAIH,KALD,MAKO;AACH,0BACI,uDACI;AAAQ,QAAA,KAAK,EAAEP,KAAK,CAACO,KAArB;AAA4B,QAAA,SAAS,EAAC,yBAAtC;AAAgE,QAAA,OAAO,EAAE,MAAMP,KAAK,CAACqB,sBAAN,CAA6BrB,KAAK,CAACsB,iBAAnC,CAA/E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCADJ,CADJ;AAKH;AACJ;;AAED,sBACI,0CACK,CAAClB,YAAD,KAAkB,CAAC,CAAnB,GAAuBa,iBAAvB,GAA2CG,gBAAgB,EADhE,CADJ;AAKH,C,CAED;;;AACA,MAAMG,eAAe,GAAG1B,wBAAwB,CAAC;AAC7CI,EAAAA,WAAW,EAAEH;AADgC,CAAD,CAAhD;AAGA,eAAeF,UAAU,CAACD,OAAO,CAAC4B,eAAD,CAAP,CAAyBxB,mBAAzB,CAAD,CAAzB,C,CACE","sourcesContent":["import React from \"react\"\nimport './CourseBookingButton.scss'\n//---------------\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router-dom\";\nimport { createStructuredSelector } from \"reselect\";\nimport { currentUserSelect } from \"../../redux/user/user-selector\";\n//---------------\n\nfunction CourseBookingButton(props) {\n    //---------------\n    const { currentUser } = props\n    //該使用者的id\n    const currentUserId = currentUser ? currentUser.id : ''\n    //---------------\n\n    //確認此課程是否已被該會員預約\n    const checkBooking = props.thisUserBookingId.indexOf(props.value)\n\n    //確認該課程預約狀況\n    const checkBookingState = props.bookingData && props.bookingData.filter(m => m.courseId === props.value && m.memberId === currentUserId).map(bookedCourse => (bookedCourse.bookingState))\n\n    //可預約button\n    const displayBookingBtn = (\n        <>\n            <button value={props.value} onClick={() => props.myConfirmAddBooking(props.addBooking)} className=\"accessBooking courseBtn\">預約</button>\n        </>\n    )\n\n    //若曾預約，視預約狀況顯示button\n    function displayBookedBtn() {\n        if (+checkBookingState === 0) {\n            return (\n                <>\n                    <button value={props.value} className=\"canceledBooked courseBtn\">已取消</button>\n                </>)\n        } else {\n            return (\n                <>\n                    <button value={props.value} className=\"alreadyBooked courseBtn\" onClick={() => props.myConfirmCancelBooking(props.userCancelBooking)}> 取消預約</button>\n\n                </>)\n        }\n    }\n\n    return (\n        <>\n            {+checkBooking === -1 ? displayBookingBtn : displayBookedBtn()}\n        </>\n    )\n}\n\n//---------------\nconst mapStateToProps = createStructuredSelector({\n    currentUser: currentUserSelect,\n});\nexport default withRouter(connect(mapStateToProps)(CourseBookingButton));\n  //---------------"]},"metadata":{},"sourceType":"module"}