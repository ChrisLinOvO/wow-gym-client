{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Project-traning/project-wow-fit-fronted/src/component/user-edit/user-edit.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./user-edit.scss\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { withRouter } from \"react-router-dom\";\nimport { currentUserSelect, userPath } from \"../../redux/user/user-selector\";\n\nfunction UserEdit({\n  currentUserSelect,\n  userPath\n}) {\n  // console.log(currentUserSelect);\n  const {\n    id\n  } = { ...currentUserSelect\n  }; // console.log(id)\n  // console.log(currentUserSelect)\n\n  const [member, setMember] = useState([]);\n  const [memberAccount, setmemberAccount] = useState(\"\");\n  const [memberName, setName] = useState(\"\");\n  const [memberNickname, setNickName] = useState(\"\");\n  const [memberGender, setsex] = useState(\"男生\");\n  const [memberBirth, setdate] = useState(\"\");\n  const [memberEmail, setmail] = useState(\"\");\n  const [memberPhoneNum, setphone] = useState(\"\");\n  const [city, setcity] = useState(\"\");\n  const [contury, setcontury] = useState(\"\");\n  const [memberAddress, setaddress] = useState(\"\");\n  const [memberPwd, setpwd] = useState(\"\");\n  const [memberImg, setimg] = useState(\"\");\n  const [memberid, setmemberid] = useState(); // console.log(\"userPath\", userPath)\n  // useEffect(() => {\n  //   if (!id) {\n  //     history.push(\"/login\")\n  //     alert(\"請先登入會員！！\")\n  //   }\n  // }, [])\n  // console.log(\"history\", history);\n  // console.log(\"location\", location);\n\n  async function AddFromToServer(e) {\n    const user = await axios.post(\"http://localhost:5000/api/user/profile/UpdateUser\", {\n      data: {\n        memberName,\n        memberNickname,\n        memberGender,\n        memberBirth,\n        memberEmail,\n        memberPhoneNum,\n        memberAddress,\n        memberPwd,\n        memberImg\n      },\n      memberid,\n      city,\n      contury\n    }); // console.log(user)\n  }\n\n  useEffect(() => {\n    const FetchData = async () => {\n      const result = await axios(`http://localhost:5000/api/user/profile/${memberid}`); // console.log('test',result.data.memberItem.membersRow)\n\n      setMember(result.data.memberItem.membersRow);\n    };\n\n    FetchData();\n  }, [memberid]);\n  useEffect(() => {\n    member.forEach(el => {\n      setName(el.memberName);\n      setNickName(el.memberNickname);\n      setmail(el.memberEmail);\n      setmemberAccount(el.memberAccount);\n      setimg(el.memberImg);\n      setpwd(el.memberPwd);\n      setdate(el.memberBirth);\n      setphone(el.memberPhoneNum);\n      setcity(el.city);\n      setcontury(el.contury);\n      setaddress(el.memberAddress);\n      setsex(el.memberGender);\n    });\n  }, [member]);\n  useEffect(() => {\n    setmemberid(id); // console.log('test',memberid)\n  }, [id, memberid]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"edit-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }\n  }, \"\\u500B\\u4EBA\\u8CC7\\u6599\\u4FEE\\u6539\", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }), \"\\u7BA1\\u7406\\u60A8\\u7684\\u6A94\\u6848\\u4EE5\\u4FDD\\u8B77\\u60A8\\u7684\\u5E33\\u6236\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"edit-account\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }\n  }, \"\\u4F7F\\u7528\\u8005\\u5E33\\u865F: \", memberAccount), /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 19\n    }\n  }, \"\\u59D3\\u540D:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: memberName,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 19\n    }\n  }, \"\\u66B1\\u7A31:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: memberNickname,\n    onChange: e => setNickName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 19\n    }\n  }, \"\\u751F\\u65E5: \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"date\",\n    value: memberBirth,\n    onChange: e => setdate(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 19\n    }\n  }, \"\\u6027\\u5225: \", memberGender), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: e => setsex(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u7537\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 21\n    }\n  }, \"\\u7537\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\\u5973\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }\n  }, \"\\u5973\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, \"\\u624B\\u6A5F\\u865F\\u78BC:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    minLength: \"10\",\n    pattern: \"[0-9]*\",\n    value: memberPhoneNum,\n    onChange: e => setphone(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 19\n    }\n  }, \"\\u96FB\\u5B50\\u90F5\\u4EF6:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    value: memberEmail,\n    onChange: e => setmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 19\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"first-line\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 19\n    }\n  }, \"\\u5C45\\u4F4F\\u5730\\u5740:\"), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"address-input\",\n    maxLength: \"100\",\n    type: \"text\",\n    value: memberAddress,\n    onChange: e => setaddress(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 19\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"img-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"user-img\",\n    alt: \"user-Img\",\n    src: memberImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"user-img-input\",\n    type: \"file\",\n    accept: \".jpg,.png\",\n    onChange: event => {\n      let input = event.target.files[0];\n      let reader = new FileReader();\n\n      reader.onload = function () {\n        let dataURL = reader.result;\n        setimg(dataURL);\n      };\n\n      reader.readAsDataURL(input);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 17\n    }\n  }, \"\\u6A94\\u6848\\u5927\\u5C0F:\\u6700\\u59271Mb\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }\n  }, \"\\u6A94\\u6848\\u9650\\u5236:JPEG\\u3001PNG\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pwd-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"fieldset\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 19\n    }\n  }, \"\\u4FEE\\u6539\\u5BC6\\u78BC:\"), /*#__PURE__*/React.createElement(\"input\", {\n    // minLength=\"8\"\n    type: \"Password\" // pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z a-z]).*$\"\n    ,\n    placeholder: \" \\u8ACB\\u8F38\\u5165\\u820A\\u5BC6\\u78BC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"fieldset\", {\n    className: \"pwd-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 210,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    // minLength=\"8\"\n    type: \"Password\" // pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z a-z]).*$\"\n    ,\n    placeholder: \" \\u8ACB\\u8F38\\u5165\\u65B0\\u5BC6\\u78BC\",\n    onChange: e => setpwd(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"fieldset\", {\n    className: \"pwd-input\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    // minLength=\"8\"\n    type: \"Password\" // pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z a-z]).*$\"\n    ,\n    placeholder: \" \\u8ACB\\u518D\\u8F38\\u5165\\u4E00\\u6B21\\u65B0\\u5BC6\\u78BC\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => AddFromToServer(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 17\n    }\n  }, \"\\u5132\\u5B58\")))))));\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUserSelect: currentUserSelect,\n  userPath: userPath\n});\nexport default withRouter(connect(mapStateToProps)(UserEdit));","map":{"version":3,"sources":["/Users/Chris/Project-traning/project-wow-fit-fronted/src/component/user-edit/user-edit.jsx"],"names":["React","useState","useEffect","axios","connect","createStructuredSelector","withRouter","currentUserSelect","userPath","UserEdit","id","member","setMember","memberAccount","setmemberAccount","memberName","setName","memberNickname","setNickName","memberGender","setsex","memberBirth","setdate","memberEmail","setmail","memberPhoneNum","setphone","city","setcity","contury","setcontury","memberAddress","setaddress","memberPwd","setpwd","memberImg","setimg","memberid","setmemberid","AddFromToServer","e","user","post","data","FetchData","result","memberItem","membersRow","forEach","el","target","value","event","input","files","reader","FileReader","onload","dataURL","readAsDataURL","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport \"./user-edit.scss\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { createStructuredSelector } from \"reselect\";\nimport { withRouter } from \"react-router-dom\";\nimport { currentUserSelect, userPath } from \"../../redux/user/user-selector\";\n\nfunction UserEdit({ currentUserSelect, userPath }) {\n  // console.log(currentUserSelect);\n  const { id } = { ...currentUserSelect };\n  // console.log(id)\n  // console.log(currentUserSelect)\n  const [member, setMember] = useState([]);\n  const [memberAccount, setmemberAccount] = useState(\"\");\n  const [memberName, setName] = useState(\"\");\n  const [memberNickname, setNickName] = useState(\"\");\n  const [memberGender, setsex] = useState(\"男生\");\n  const [memberBirth, setdate] = useState(\"\");\n  const [memberEmail, setmail] = useState(\"\");\n  const [memberPhoneNum, setphone] = useState(\"\");\n  const [city, setcity] = useState(\"\");\n  const [contury, setcontury] = useState(\"\");\n  const [memberAddress, setaddress] = useState(\"\");\n  const [memberPwd, setpwd] = useState(\"\");\n  const [memberImg, setimg] = useState(\"\");\n  const [memberid, setmemberid] = useState();\n  // console.log(\"userPath\", userPath)\n  // useEffect(() => {\n  //   if (!id) {\n  //     history.push(\"/login\")\n  //     alert(\"請先登入會員！！\")\n  //   }\n  // }, [])\n\n  // console.log(\"history\", history);\n  // console.log(\"location\", location);\n\n  async function AddFromToServer(e) {\n    const user = await axios.post(\n      \"http://localhost:5000/api/user/profile/UpdateUser\",\n      {\n        data: {\n          memberName,\n          memberNickname,\n          memberGender,\n          memberBirth,\n          memberEmail,\n          memberPhoneNum,\n          memberAddress,\n          memberPwd,\n          memberImg,\n        },\n        memberid,\n        city,\n        contury,\n      }\n    );\n    // console.log(user)\n  }\n\n  useEffect(() => {\n    const FetchData = async () => {\n      const result = await axios(\n        `http://localhost:5000/api/user/profile/${memberid}`\n      );\n      // console.log('test',result.data.memberItem.membersRow)\n      setMember(result.data.memberItem.membersRow);\n    };\n    FetchData();\n  }, [memberid]);\n\n  useEffect(() => {\n    member.forEach((el) => {\n      setName(el.memberName);\n      setNickName(el.memberNickname);\n      setmail(el.memberEmail);\n      setmemberAccount(el.memberAccount);\n      setimg(el.memberImg);\n      setpwd(el.memberPwd);\n      setdate(el.memberBirth);\n      setphone(el.memberPhoneNum);\n      setcity(el.city);\n      setcontury(el.contury);\n      setaddress(el.memberAddress);\n      setsex(el.memberGender)\n    });\n  }, [member]);\n\n  useEffect(() => {\n    setmemberid(id);\n    // console.log('test',memberid)\n  }, [id, memberid]);\n  return (\n    <>\n      <div className=\"edit\">\n        <p className=\"edit-title\">\n          個人資料修改\n          <br />\n          管理您的檔案以保護您的帳戶\n        </p>\n\n        <p className=\"edit-account\">使用者帳號: {memberAccount}</p>\n        <form>\n          <div className=\"form-wrapper\">\n            <div className=\"left-form\">\n              <div className=\"first-line\">\n                <fieldset>\n                  <legend>姓名:</legend>\n                  <input\n                    type=\"text\"\n                    value={memberName}\n                    onChange={(e) => setName(e.target.value)}\n                  />\n                </fieldset>\n                <fieldset>\n                  <legend>暱稱:</legend>\n                  <input\n                    type=\"text\"\n                    value={memberNickname}\n                    onChange={(e) => setNickName(e.target.value)}\n                  />\n                </fieldset>\n              </div>\n\n              <div className=\"first-line\">\n                <fieldset>\n                  <legend>生日: </legend>\n                  <input\n                    type=\"date\"\n                    value={memberBirth}\n                    onChange={(e) => setdate(e.target.value)}\n                  />\n                </fieldset>\n                <fieldset>\n                  <legend>性別: {memberGender}</legend>\n                  <select onChange={(e) => setsex(e.target.value)}>\n                    <option value=\"男\">男</option>\n                    <option value=\"女\">女</option>\n                  </select>\n                </fieldset>\n              </div>\n\n              <div className=\"first-line\">\n                <fieldset>\n                  <legend>手機號碼:</legend>\n                  <input\n                    type=\"text\"\n                    minLength=\"10\"\n                    pattern=\"[0-9]*\"\n                    value={memberPhoneNum}\n                    onChange={(e) => setphone(e.target.value)}\n                  />\n                </fieldset>\n                <fieldset>\n                  <legend>電子郵件:</legend>\n                  <input\n                    type=\"email\"\n                    value={memberEmail}\n                    onChange={(e) => setmail(e.target.value)}\n                  />\n                </fieldset>\n              </div>\n\n              <div className=\"first-line\">\n                <fieldset>\n                  <legend>居住地址:</legend>\n                  <input\n                    className=\"address-input\"\n                    maxLength=\"100\"\n                    type=\"text\"\n                    value={memberAddress}\n                    onChange={(e) => setaddress(e.target.value)}\n                  />\n                </fieldset>\n              </div>\n            </div>\n\n            <div className=\"right-form\">\n              <div className=\"img-card\">\n                <img className=\"user-img\" alt=\"user-Img\" src={memberImg}></img>\n                <input\n                  className=\"user-img-input\"\n                  type=\"file\"\n                  accept=\".jpg,.png\"\n                  onChange={(event) => {\n                    let input = event.target.files[0];\n                    let reader = new FileReader();\n                    reader.onload = function () {\n                      let dataURL = reader.result;\n                      setimg(dataURL);\n                    };\n                    reader.readAsDataURL(input);\n                  }}\n                />\n                <p>檔案大小:最大1Mb</p>\n                <p>檔案限制:JPEG、PNG</p>\n              </div>\n\n              <div className=\"pwd-card\">\n                <fieldset>\n                  <legend>修改密碼:</legend>\n                  <input\n                    // minLength=\"8\"\n                    type=\"Password\"\n                    // pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z a-z]).*$\"\n                    placeholder=\" 請輸入舊密碼\"\n                  />\n                </fieldset>\n                <fieldset className=\"pwd-input\">\n                  <input\n                    // minLength=\"8\"\n                    type=\"Password\"\n                    // pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z a-z]).*$\"\n                    placeholder=\" 請輸入新密碼\"\n                    onChange={(e) => setpwd(e.target.value)}\n\n                  />\n                </fieldset>\n                <fieldset className=\"pwd-input\">\n                  <input\n                    // minLength=\"8\"\n                    type=\"Password\"\n                    // pattern=\"(?=^.{8,}$)((?=.*\\d)|(?=.*\\W+))(?![.\\n])(?=.*[A-Z a-z]).*$\"\n                    placeholder=\" 請再輸入一次新密碼\"\n                  />\n                </fieldset>\n\n                <div></div>\n                <button onClick={() => AddFromToServer()}>儲存</button>\n              </div>\n            </div>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUserSelect: currentUserSelect,\n  userPath: userPath,\n});\n\nexport default withRouter(connect(mapStateToProps)(UserEdit));\n"]},"metadata":{},"sourceType":"module"}