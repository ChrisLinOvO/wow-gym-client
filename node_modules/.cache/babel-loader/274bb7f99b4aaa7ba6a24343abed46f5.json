{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Project-traning/project-wow-fit-fronted/src/component/Faq_list/FaqList.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport FaqListItem from './FaqListItem';\nimport './FaqList.scss'; // import FaqImg from '../Faq_list/img/faqimg.jpg'\n\nimport FaqImg from './img/faqimg3.jpg';\n\nconst FaqList = props => {\n  const [faqData, setFaqData] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [filterData, setFilterData] = useState([]);\n  const [filterButton, setFilterButton] = useState(''); // 預設分類為 \"常見問題\"\n\n  const [btnActive, setBtnActive] = useState('常見問題'); // 切換分類\n\n  const changeKind = e => {\n    setFilterButton(e.target.name);\n    setBtnActive(e.target.name);\n  }; // 搜尋\n\n\n  const doDataSearch = () => {\n    // console.log(faqData);\n    let changeFilterData = faqData.filter(item => searchValue !== '' ? item.faqtitle.toUpperCase().includes(searchValue) : item.faqkindname === '常見問題');\n    setFilterData(changeFilterData);\n  };\n\n  const changeSearch = e => {\n    setSearchValue(e.target.value.toUpperCase());\n  };\n\n  const getData = async () => {\n    const request = new Request('http://localhost:5000/api/customerRoutes/faqlist', {\n      method: 'GET',\n      headers: new Headers({\n        Accept: 'application/json',\n        'Content-Type': 'application/json'\n      })\n    });\n    const res = await fetch(request);\n    const data = await res.json();\n    setFaqData(data);\n    return data;\n  };\n\n  useEffect(() => {\n    (async () => {\n      await getData();\n    })();\n  }, []); //  初始執行。\n\n  useEffect(() => {\n    const changeFilterData = faqData.filter(item => item.faqkindname === '常見問題');\n    setFilterData(changeFilterData);\n  }, [faqData]); // 初始執行後，faqData變化後，執行。\n\n  useEffect(() => {\n    // 切換分類後換資料\n    const DoFilterData = () => {\n      let changeFilterData = faqData.filter(item => item.faqkindname === filterButton);\n      setFilterData(changeFilterData);\n    };\n\n    DoFilterData();\n  }, [filterButton]); // onclick，filterButton的state變化後，執行。\n\n  useEffect(() => {\n    doDataSearch();\n  }, [searchValue]); // onChange，changeSearch的state變化後，執行。\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"faq-list-img-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"faq-list-img\",\n    src: FaqImg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"btn-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: `${btnActive === \"常見問題\" ? \"font-color-blue\" : \"\"} kindBtn`,\n    name: \"\\u5E38\\u898B\\u554F\\u984C\",\n    onClick: e => changeKind(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }, \"\\u5E38\\u898B\\u554F\\u984C\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: `${btnActive === \"課程問題\" ? \"font-color-blue\" : \"\"} kindBtn`,\n    name: \"\\u8AB2\\u7A0B\\u554F\\u984C\",\n    onClick: e => changeKind(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, \"\\u8AB2\\u7A0B\\u554F\\u984C\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: `${btnActive === \"教練問題\" ? \"font-color-blue\" : \"\"} kindBtn`,\n    name: \"\\u6559\\u7DF4\\u554F\\u984C\",\n    onClick: e => changeKind(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }, \"\\u6559\\u7DF4\\u554F\\u984C\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: `${btnActive === \"意見反映\" ? \"font-color-blue\" : \"\"} kindBtn`,\n    name: \"\\u610F\\u898B\\u53CD\\u6620\",\n    onClick: e => changeKind(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"\\u610F\\u898B\\u53CD\\u6620\")), /*#__PURE__*/React.createElement(\"input\", {\n    className: \"search-input\",\n    onChange: e => changeSearch(e),\n    placeholder: \"\\u641C\\u5C0B\\u76F8\\u95DC\\u554F\\u984C\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"faq-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 13\n    }\n  }, filterData instanceof Array && filterData.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, filterData.map((item, index) => /*#__PURE__*/React.createElement(FaqListItem, Object.assign({\n    key: index\n  }, item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 29\n    }\n  })))) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 21\n    }\n  }, \"\\u641C\\u5C0B\\u4E0D\\u5230\\u8CC7\\u6599\\uFF0C\\u8ACB\\u91CD\\u65B0\\u641C\\u5C0B\\u3002\"))));\n};\n\nexport default FaqList;","map":{"version":3,"sources":["/Users/Chris/Project-traning/project-wow-fit-fronted/src/component/Faq_list/FaqList.jsx"],"names":["React","useState","useEffect","FaqListItem","FaqImg","FaqList","props","faqData","setFaqData","searchValue","setSearchValue","filterData","setFilterData","filterButton","setFilterButton","btnActive","setBtnActive","changeKind","e","target","name","doDataSearch","changeFilterData","filter","item","faqtitle","toUpperCase","includes","faqkindname","changeSearch","value","getData","request","Request","method","headers","Headers","Accept","res","fetch","data","json","DoFilterData","Array","length","map","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport FaqListItem from './FaqListItem'\nimport './FaqList.scss'\n// import FaqImg from '../Faq_list/img/faqimg.jpg'\nimport FaqImg  from './img/faqimg3.jpg';\n\n\nconst FaqList = (props) => {\n    const [faqData, setFaqData] = useState([])\n    const [searchValue, setSearchValue] = useState('')\n    const [filterData, setFilterData] = useState([])\n    const [filterButton,setFilterButton] = useState('')\n    // 預設分類為 \"常見問題\"\n    const [btnActive,setBtnActive] = useState('常見問題')\n\n\n     // 切換分類\n     const changeKind = (e) => {\n        setFilterButton(e.target.name)\n        setBtnActive(e.target.name)\n    }\n    // 搜尋\n    const doDataSearch = () => {\n        // console.log(faqData);\n        let changeFilterData = faqData.filter(item =>\n            searchValue !== '' ? item.faqtitle.toUpperCase().includes(searchValue) : item.faqkindname === '常見問題')\n        setFilterData(changeFilterData)\n    }\n    const changeSearch = (e) => {\n        setSearchValue(e.target.value.toUpperCase())\n    }\n    const getData = async () => {\n        const request = new Request('http://localhost:5000/api/customerRoutes/faqlist', {\n            method: 'GET',\n            headers: new Headers({\n                Accept: 'application/json', 'Content-Type': 'application/json',\n            })\n        })\n        const res = await fetch(request)\n        const data = await res.json()\n        setFaqData(data)\n        return data;\n    }\n    useEffect(() => {\n        (async () => {\n            await getData();\n        })();\n    }, [])\n    //  初始執行。\n\n    useEffect(() => {\n        const changeFilterData = faqData.filter(item => item.faqkindname === '常見問題')\n        setFilterData(changeFilterData)\n    }, [faqData])\n    // 初始執行後，faqData變化後，執行。\n\n    useEffect(() => {\n\n         // 切換分類後換資料\n    const DoFilterData = () => {\n        let changeFilterData = faqData.filter(item => item.faqkindname === filterButton)\n        setFilterData(changeFilterData)\n    }\n        DoFilterData()\n    }, [filterButton])\n    // onclick，filterButton的state變化後，執行。\n\n    useEffect(() => {\n        doDataSearch()\n    }, [searchValue])\n    // onChange，changeSearch的state變化後，執行。\n\n   \n    return (\n        <>\n            <div className=\"faq-list-img-box\">\n            <img className=\"faq-list-img\" src={FaqImg}  >\n            </img>\n            </div>\n            <div className=\"btn-box\">\n                <button className={`${btnActive===\"常見問題\" ? \"font-color-blue\" :\"\"} kindBtn`} name=\"常見問題\" onClick={e => changeKind(e)}>常見問題</button>\n                <button className={`${btnActive===\"課程問題\" ? \"font-color-blue\" :\"\"} kindBtn`} name=\"課程問題\" onClick={e => changeKind(e)}>課程問題</button>\n                <button className={`${btnActive===\"教練問題\" ? \"font-color-blue\" :\"\"} kindBtn`} name=\"教練問題\" onClick={e => changeKind(e)}>教練問題</button>\n                <button className={`${btnActive===\"意見反映\" ? \"font-color-blue\" :\"\"} kindBtn`} name=\"意見反映\" onClick={e => changeKind(e)}>意見反映</button>\n            </div>\n\n            <input className=\"search-input\" onChange={e => changeSearch(e)} placeholder=\"搜尋相關問題\"></input>\n            <div className=\"faq-box\">\n                {filterData instanceof Array && filterData.length > 0 ?\n                    <>\n                        {filterData.map((item, index) =>\n                            <FaqListItem key={index}{...item}>\n                            </FaqListItem>)}\n                    </>\n                    : <div>\n                    <h2>搜尋不到資料，請重新搜尋。</h2>\n                    </div>\n                }\n            </div>\n        </>\n    )\n}\nexport default FaqList;\n"]},"metadata":{},"sourceType":"module"}