{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Project-traning/project-wow-fit-fronted/src/component/employee-center-modal/employeeCentetModal.jsx\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport \"./employeeCentetModal.scss\";\nimport moment from \"moment\";\nimport Swal from 'sweetalert2';\nimport { createStructuredSelector } from \"reselect\";\nimport { currentEmployeeSelect } from \"../../redux/employee/employee-selector\";\n\nfunction EmployeeCentetModal({\n  currentEmployee,\n  setModashow,\n  itemID,\n  courseid\n}) {\n  const [courseName, setCourseName] = useState(\"\");\n  const [courseTime, setCourseTime] = useState(\"\");\n  const [courseHour, setCourseHour] = useState(\"\");\n  const [courseQuoda, setCourseQuoda] = useState(\"\");\n  const [categoryName, setCategoryName] = useState(\"\");\n  const [courseImg, setCourseImg] = useState(\"\");\n  const courseData = courseid.filter(item => {\n    return item.courseId === itemID;\n  });\n  const courseValue = courseData.map(item => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 9\n      }\n    }, \"\\u8AB2\\u7A0B\\u540D\\u7A31\\uFF1A\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input-content\",\n      type: \"text\",\n      defaultValue: item.courseName,\n      onChange: event => {\n        setCourseName(event.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 9\n      }\n    }, \"\\u958B\\u8AB2\\u6642\\u9593\\uFF1A\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input-content\",\n      type: \"text\",\n      defaultValue: moment(item.courseTime).format(\"YYYY-MM-DD HH:mm\"),\n      onChange: event => {\n        setCourseTime(event.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, \"\\u8AB2\\u7A0B\\u6642\\u6578\\uFF1A\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input-content\",\n      type: \"number\",\n      defaultValue: item.courseHour,\n      onChange: event => {\n        setCourseHour(event.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }\n    }, \"\\u4EBA\\u6578\\u4E0A\\u9650\\uFF1A\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input-content\",\n      type: \"number\",\n      defaultValue: item.courseQuoda,\n      onChange: event => {\n        setCourseQuoda(event.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }\n    }, \"\\u8AB2\\u7A0B\\u5206\\u985E\\uFF1A\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input-content\",\n      type: \"text\",\n      defaultValue: item.categoryName,\n      onChange: event => {\n        setCategoryName(event.target.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"label\", {\n      className: \"label-content\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, \"\\u8AB2\\u7A0B\\u5716\\u7247\\uFF1A\", /*#__PURE__*/React.createElement(\"input\", {\n      className: \"input-content\",\n      type: \"file\",\n      accept: \".jpg,.png\",\n      onChange: event => {\n        let input = event.target.files[0];\n        let reader = new FileReader();\n\n        reader.onload = function () {\n          let dataURL = reader.result;\n          setCourseImg(dataURL);\n        };\n\n        reader.readAsDataURL(input);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    })));\n  }); //req.body\n\n  async function updataCourse() {\n    const row = {\n      courseId: itemID,\n      staffId: currentEmployee.Eid,\n      categoryName: categoryName,\n      courseName: courseName,\n      courseTime: courseTime,\n      courseHour: courseHour,\n      courseQuoda: courseQuoda,\n      courseImg: courseImg\n    }; //編輯\n\n    const request = new Request(`http://localhost:5000/api/courses/${itemID}`, {\n      method: \"POST\",\n      body: JSON.stringify(row),\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"application/json\"\n      })\n    });\n    const response = await fetch(request);\n    await response.json(); // console.log(\"伺服器回傳的json資料\", data);\n\n    window.location.reload();\n  } //載入\n\n\n  useEffect(() => {\n    courseData.forEach(element => {\n      setCourseName(element.courseName);\n      setCourseTime(moment(element.courseTime).format(\"YYYY-MM-DD HH:mm\"));\n      setCourseHour(element.courseHour);\n      setCourseQuoda(element.courseQuoda);\n      setCategoryName(element.categoryName);\n      setCourseImg(element.courseImg);\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"modal-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }\n  }, \"\\u8AB2\\u7A0B\\u7DE8\\u8F2F\")), /*#__PURE__*/React.createElement(\"article\", {\n    className: \"modal-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }\n  }, courseValue), /*#__PURE__*/React.createElement(\"footer\", {\n    className: \"modal-footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modal-edit\",\n    onClick: () => {\n      Swal.fire({\n        title: '編輯課程',\n        text: \"確認課程是否編輯!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: '確定',\n        cancelButtonText: '取消'\n      }).then(result => {\n        if (result.value) {\n          Swal.fire('完成!', '已編輯課程!!', 'success');\n          updataCourse();\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, \"\\u5132\\u5B58\\u4E26\\u4FEE\\u6539\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"modal-del\",\n    onClick: () => {\n      setModashow(false);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 9\n    }\n  }, \"\\u95DC\\u9589\\u8996\\u7A97\")));\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentEmployee: currentEmployeeSelect\n});\nexport default withRouter(connect(mapStateToProps)(EmployeeCentetModal));","map":{"version":3,"sources":["/Users/Chris/Project-traning/project-wow-fit-fronted/src/component/employee-center-modal/employeeCentetModal.jsx"],"names":["React","useState","useEffect","connect","withRouter","moment","Swal","createStructuredSelector","currentEmployeeSelect","EmployeeCentetModal","currentEmployee","setModashow","itemID","courseid","courseName","setCourseName","courseTime","setCourseTime","courseHour","setCourseHour","courseQuoda","setCourseQuoda","categoryName","setCategoryName","courseImg","setCourseImg","courseData","filter","item","courseId","courseValue","map","event","target","value","format","input","files","reader","FileReader","onload","dataURL","result","readAsDataURL","updataCourse","row","staffId","Eid","request","Request","method","body","JSON","stringify","headers","Headers","Accept","response","fetch","json","window","location","reload","forEach","element","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { withRouter } from \"react-router\";\nimport \"./employeeCentetModal.scss\";\nimport moment from \"moment\";\nimport Swal from 'sweetalert2';\n\nimport { createStructuredSelector } from \"reselect\";\nimport { currentEmployeeSelect } from \"../../redux/employee/employee-selector\";\n\nfunction EmployeeCentetModal({\n  currentEmployee,\n  setModashow,\n  itemID,\n  courseid,\n}) {\n  const [courseName, setCourseName] = useState(\"\");\n  const [courseTime, setCourseTime] = useState(\"\");\n  const [courseHour, setCourseHour] = useState(\"\");\n  const [courseQuoda, setCourseQuoda] = useState(\"\");\n  const [categoryName, setCategoryName] = useState(\"\");\n  const [courseImg, setCourseImg] = useState(\"\");\n\n  const courseData = courseid.filter((item) => {\n    return item.courseId === itemID;\n  });\n\n  const courseValue = courseData.map((item) => {\n    return (\n      <>\n        <label className=\"label-content\">\n          課程名稱：\n          <input\n            className=\"input-content\"\n            type=\"text\"\n            defaultValue={item.courseName}\n            onChange={(event) => {\n              setCourseName(event.target.value);\n            }}\n          />\n        </label>\n        <label className=\"label-content\">\n          開課時間：\n          <input\n            className=\"input-content\"\n            type=\"text\"\n            defaultValue={moment(item.courseTime).format(\"YYYY-MM-DD HH:mm\")}\n            onChange={(event) => {\n              setCourseTime(event.target.value);\n            }}\n          />\n        </label>\n        <label className=\"label-content\">\n          課程時數：\n          <input\n            className=\"input-content\"\n            type=\"number\"\n            defaultValue={item.courseHour}\n            onChange={(event) => {\n              setCourseHour(event.target.value);\n            }}\n          />\n        </label>\n        <label className=\"label-content\">\n          人數上限：\n          <input\n            className=\"input-content\"\n            type=\"number\"\n            defaultValue={item.courseQuoda}\n            onChange={(event) => {\n              setCourseQuoda(event.target.value);\n            }}\n          />\n        </label>\n        <label className=\"label-content\">\n          課程分類：\n          <input\n            className=\"input-content\"\n            type=\"text\"\n            defaultValue={item.categoryName}\n            onChange={(event) => {\n              setCategoryName(event.target.value);\n            }}\n          />\n        </label>\n        <label className=\"label-content\">\n          課程圖片：\n          <input\n            className=\"input-content\"\n            type=\"file\"\n            accept=\".jpg,.png\"\n            onChange={(event) => {\n              let input = event.target.files[0];\n              let reader = new FileReader();\n              reader.onload = function () {\n                let dataURL = reader.result;\n                setCourseImg(dataURL);\n              };\n              reader.readAsDataURL(input);\n            }}\n          />\n        </label>\n      </>\n    );\n  });\n\n  //req.body\n  async function updataCourse() {\n      const row = {\n        courseId: itemID,\n        staffId: currentEmployee.Eid,\n        categoryName: categoryName,\n        courseName: courseName,\n        courseTime: courseTime,\n        courseHour: courseHour,\n        courseQuoda: courseQuoda,\n        courseImg: courseImg,\n      };\n\n      //編輯\n      const request = new Request(\n        `http://localhost:5000/api/courses/${itemID}`,\n        {\n          method: \"POST\",\n          body: JSON.stringify(row),\n          headers: new Headers({\n            Accept: \"application/json\",\n            \"Content-Type\": \"application/json\",\n          }),\n        }\n      );\n\n      const response = await fetch(request);\n      await response.json();\n\n      // console.log(\"伺服器回傳的json資料\", data);\n      window.location.reload();\n  }\n\n  //載入\n  useEffect(() => {\n    courseData.forEach((element) => {\n      setCourseName(element.courseName);\n      setCourseTime(moment(element.courseTime).format(\"YYYY-MM-DD HH:mm\"));\n      setCourseHour(element.courseHour);\n      setCourseQuoda(element.courseQuoda);\n      setCategoryName(element.categoryName);\n      setCourseImg(element.courseImg);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <div className=\"modal-box\">\n      <header className=\"modal-header\">\n        <h1 className=\"modal-title\">課程編輯</h1>\n      </header>\n      <article className=\"modal-body\">{courseValue}</article>\n      <footer className=\"modal-footer\">\n        <button\n          className=\"modal-edit\"\n          onClick={() => {\n            Swal.fire({\n                    title: '編輯課程',\n                    text: \"確認課程是否編輯!\",\n                    icon: 'warning',\n                    showCancelButton: true,\n                    confirmButtonColor: '#3085d6',\n                    cancelButtonColor: '#d33',\n                    confirmButtonText: '確定',\n                    cancelButtonText: '取消'\n                  }).then((result) => {\n                    if (result.value) {\n                      Swal.fire(\n                        '完成!',\n                        '已編輯課程!!',\n                        'success'\n                      )\n                      updataCourse();\n                    \n                    }\n                  })\n          }}\n        >\n          儲存並修改\n        </button>\n        <button\n          className=\"modal-del\"\n          onClick={() => {\n            setModashow(false);\n          }}\n        >\n          關閉視窗\n        </button>\n      </footer>\n    </div>\n  );\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentEmployee: currentEmployeeSelect,\n});\n\nexport default withRouter(connect(mapStateToProps)(EmployeeCentetModal));\n"]},"metadata":{},"sourceType":"module"}