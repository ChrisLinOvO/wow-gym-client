{"ast":null,"code":"var _jsxFileName = \"/Users/Chris/Project-traning/project-wow-fit-fronted/src/pages/employee-center-page/EmployeeCenterPage.jsx\";\nimport React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./EmployeeCenterPage.scss\";\nimport { withRouter } from \"react-router\";\nimport Moment from \"react-moment\";\nimport \"moment-timezone\";\nimport CourseButton from \"../../component/employee-center-course-button/EmployeeCenterCourseButton\";\nimport { createStructuredSelector } from \"reselect\";\nimport { currentEmployeeSelect } from \"../../redux/employee/employee-selector\";\n\nfunction EmployeeCenter({\n  currentEmployee\n}) {\n  const [employeedata, setEmployeedata] = useState([]);\n  const [coursedata, setCoursedata] = useState([]);\n\n  async function getEmployeeId() {\n    // console.log(currentEmployee);\n    const request = new Request(`http://localhost:5000/api/employee/${currentEmployee.Eid}`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"appliaction/json\"\n      })\n    });\n    const response = await fetch(request);\n    const data = await response.json();\n    setEmployeedata(data);\n  }\n\n  async function getCourse() {\n    const request = new Request(`http://localhost:5000/api/employeecenter/${currentEmployee.Eid}`, {\n      method: \"GET\",\n      headers: new Headers({\n        Accept: \"application/json\",\n        \"Content-Type\": \"appliaction/json\"\n      })\n    });\n    const response = await fetch(request);\n    const data = await response.json();\n    setCoursedata(data);\n  } //載入\n\n\n  useEffect(() => {\n    getEmployeeId();\n    getCourse(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); //改變\n\n  useEffect(() => {\n    setEmployeedata(employeedata);\n  }, [employeedata]);\n  useEffect(() => {\n    setCoursedata(coursedata); // console.log(coursedata);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [coursedata]);\n  const employeeCapital = employeedata.map(item => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }\n    }, \"\\u59D3\\u540D\\uFF1A\", item.Ename), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }\n    }, \"\\u6027\\u5225\\uFF1A\", item.Egender), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, \"\\u751F\\u65E5\\uFF1A\", /*#__PURE__*/React.createElement(Moment, {\n      format: \"YYYY/MM/DD\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 14\n      }\n    }, item.Ebirthday)), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }, \"\\u96FB\\u8A71\\uFF1A\", item.EphoneNumber), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"data\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, \"email\\uFF1A\", item.Eemail));\n  });\n  const employeeRecord = employeedata.map(item => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"license-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, \"\\u5C08\\u9577\\uFF1A\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"license\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, item.Elicense), /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"license-title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }\n    }, \"\\u8B49\\u7167\\uFF1A\"), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"license\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }, item.Eexpertise));\n  });\n  const course = coursedata.map((item, index) => {\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"course\",\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"course-container-img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"course-img\",\n      alt: \"\",\n      src: item.courseImg,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"h3\", {\n      className: \"coursename\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, item.courseName), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Moment, {\n      format: \"YYYY-MM-DD HH:mm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 13\n      }\n    }, item.courseTime)), /*#__PURE__*/React.createElement(CourseButton, {\n      itemID: item.courseId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 11\n      }\n    })));\n  });\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"employeeCenterPage\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"center-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"centertop-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"figcaption\", {\n    className: \"centerpeople-box-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"people-top\",\n    alt: \"\",\n    src: currentEmployee.Eimg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 19\n    }\n  }), /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"centerpeople-content-top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"top-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, currentEmployee.Ename))), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"addcourse\",\n    onClick: () => {\n      window.location.replace(\"http://localhost:3000/employeeform\");\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 15\n    }\n  }, \"\\u8AB2\\u7A0B\\u4E0A\\u50B3\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"left-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 15\n    }\n  }, course)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"figcaption\", {\n    className: \"people-box-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"people-right\",\n    alt: \"\",\n    src: currentEmployee.Eimg,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"figure\", {\n    className: \"people-content-right\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"right-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 19\n    }\n  }, currentEmployee.Ename, \" \\u6559\\u7DF4\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"data\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 17\n    }\n  }, employeeCapital), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"expertise\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 17\n    }\n  }, employeeRecord)))))));\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentEmployee: currentEmployeeSelect\n});\nexport default withRouter(connect(mapStateToProps)(EmployeeCenter));","map":{"version":3,"sources":["/Users/Chris/Project-traning/project-wow-fit-fronted/src/pages/employee-center-page/EmployeeCenterPage.jsx"],"names":["React","useEffect","useState","connect","withRouter","Moment","CourseButton","createStructuredSelector","currentEmployeeSelect","EmployeeCenter","currentEmployee","employeedata","setEmployeedata","coursedata","setCoursedata","getEmployeeId","request","Request","Eid","method","headers","Headers","Accept","response","fetch","data","json","getCourse","employeeCapital","map","item","Ename","Egender","Ebirthday","EphoneNumber","Eemail","employeeRecord","Elicense","Eexpertise","course","index","courseImg","courseName","courseTime","courseId","Eimg","window","location","replace","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport \"./EmployeeCenterPage.scss\";\nimport { withRouter } from \"react-router\";\nimport Moment from \"react-moment\";\nimport \"moment-timezone\";\n\nimport CourseButton from \"../../component/employee-center-course-button/EmployeeCenterCourseButton\";\nimport { createStructuredSelector } from \"reselect\";\nimport { currentEmployeeSelect } from \"../../redux/employee/employee-selector\";\n\nfunction EmployeeCenter({ currentEmployee }) {\n  const [employeedata, setEmployeedata] = useState([]);\n  const [coursedata, setCoursedata] = useState([]);\n\n  async function getEmployeeId() {\n    // console.log(currentEmployee);\n    const request = new Request(\n      `http://localhost:5000/api/employee/${currentEmployee.Eid}`,\n      {\n        method: \"GET\",\n        headers: new Headers({\n          Accept: \"application/json\",\n          \"Content-Type\": \"appliaction/json\",\n        }),\n      }\n    );\n\n    const response = await fetch(request);\n    const data = await response.json();\n    setEmployeedata(data);\n  }\n\n  async function getCourse() {\n    const request = new Request(\n      `http://localhost:5000/api/employeecenter/${currentEmployee.Eid}`,\n      {\n        method: \"GET\",\n        headers: new Headers({\n          Accept: \"application/json\",\n          \"Content-Type\": \"appliaction/json\",\n        }),\n      }\n    );\n\n    const response = await fetch(request);\n    const data = await response.json();\n    setCoursedata(data);\n  }\n\n  //載入\n  useEffect(() => {\n    getEmployeeId();\n    getCourse();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  //改變\n  useEffect(() => {\n    setEmployeedata(employeedata);\n  }, [employeedata]);\n\n  useEffect(() => {\n    setCoursedata(coursedata);\n    // console.log(coursedata);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [coursedata]);\n\n  const employeeCapital = employeedata.map((item) => {\n    return (\n      <>\n        <p className=\"data\">姓名：{item.Ename}</p>\n        <p className=\"data\">性別：{item.Egender}</p>\n        <p className=\"data\">\n          生日：<Moment format=\"YYYY/MM/DD\">{item.Ebirthday}</Moment>\n        </p>\n        <p className=\"data\">電話：{item.EphoneNumber}</p>\n        <p className=\"data\">email：{item.Eemail}</p>\n      </>\n    );\n  });\n\n  const employeeRecord = employeedata.map((item) => {\n    return (\n      <>\n        <h1 className=\"license-title\">專長：</h1>\n        <p className=\"license\">{item.Elicense}</p>\n        <h1 className=\"license-title\">證照：</h1>\n        <p className=\"license\">{item.Eexpertise}</p>\n      </>\n    );\n  });\n\n  const course = coursedata.map((item, index) => {\n    return (\n      <>\n        <div className=\"course\" key={index}>\n          <div className=\"course-container-img\">\n            <img className=\"course-img\" alt=\"\" src={item.courseImg} />\n          </div>\n          <h3 className=\"coursename\">{item.courseName}</h3>\n          <div>\n            <Moment format=\"YYYY-MM-DD HH:mm\">{item.courseTime}</Moment>\n          </div>\n          <CourseButton itemID={item.courseId} />\n        </div>\n      </>\n    );\n  });\n\n  return (\n    <>\n      <div className=\"employeeCenterPage\">\n        <div className=\"center-box\">\n          <div className=\"center-top\">\n            <div className=\"centertop-box\">\n                <figcaption className=\"centerpeople-box-top\">\n                  <img\n                    className=\"people-top\"\n                    alt=\"\"\n                    src={currentEmployee.Eimg}\n                  />\n                  <figure className=\"centerpeople-content-top\">\n                    <h1 className=\"top-title\">{currentEmployee.Ename}</h1>\n                  </figure>\n                </figcaption>\n              <button\n                className=\"addcourse\"\n                onClick={() => {\n                  window.location.replace(\"http://localhost:3000/employeeform\");\n                }}\n              >\n                課程上傳\n              </button>\n            </div>\n          </div>\n          <div className=\"box\">\n            <div className=\"left\">\n              <div className=\"left-box\">{course}</div>\n            </div>\n            <div className=\"right\">\n              <figcaption className=\"people-box-right\">\n                <img\n                  className=\"people-right\"\n                  alt=\"\"\n                  src={currentEmployee.Eimg}\n                />\n                <figure className=\"people-content-right\">\n                  <h1 className=\"right-title\">{currentEmployee.Ename} 教練</h1>\n                </figure>\n              </figcaption>\n              <div className=\"data-box\">\n                <div className=\"data\">{employeeCapital}</div>\n                <div className=\"expertise\">{employeeRecord}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentEmployee: currentEmployeeSelect,\n});\n\nexport default withRouter(connect(mapStateToProps)(EmployeeCenter));"]},"metadata":{},"sourceType":"module"}